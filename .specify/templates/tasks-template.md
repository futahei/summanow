---
description: 'タスク一覧テンプレート（機能実装用）'
---

# タスクリスト: [FEATURE NAME]

**Input**: `/specs/[###-feature-name]/` にある設計資料  
**Prerequisites**: plan.md（必須）、spec.md（ユーザーストーリー参照）、research.md、data-model.md、contracts/

**Tests**:  
主要なユーザーストーリーには、憲法の規定により **E2E または統合テストが必須**。  
必要に応じてサポート用の追加テストを記述すること。

**Organization**:  
タスクは「ユーザーストーリー単位」でまとめる。  
→ これは、各ストーリーを **独立して実装・テスト・デプロイ** できるようにするため。

## タスク記法（Format）

`[ID] [P?] [Story] 説明`

- **[P]**: 並列実行可能タスク（依存関係がなく、別ファイルで作業できる）
- **[Story]**: 対応するユーザーストーリー番号（例: US1, US2, US3）
- 説明には **正確なファイルパス** を必ず記載すること

## パス規約（Path Conventions）

- **単一プロジェクト**: `src/`, `tests/`
- **Webアプリ構成**: `backend/src/`, `frontend/src/`
- **モバイル構成**: `api/src/`, `ios/src/` または `android/src/`
- 以下のサンプルは「単一プロジェクト」の前提  
  ※ plan.md（実装計画）で決まった構造に合わせて調整すること

<!--

【重要（IMPORTANT）】

以下にあるタスク群は "サンプル" であり、説明用の placeholder（雛形）です。

/speckit.tasks コマンドは、以下の資料に基づき
必ず「実際のタスク」に置き換えなければなりません：

- spec.md（ユーザーストーリーの内容・優先度）
- plan.md（実装計画）
- data-model.md（データ構造）
- contracts/（API などの契約）

タスクは以下の条件を満たす必要があります：

- ユーザーストーリー単位で構成されること
- 各ストーリーが「独立して」
   ・実装でき
   ・テストでき
   ・価値を提供でき
   ・デプロイできる形になっていること（MVP インクリメント）
- ストーリー同士の依存関係は最小限にすること

⚠️ 注意：
下のサンプルタスクは tasks.md に残してはいけません。
必ず実際の内容に置き換えてください。
============================================================================
-->

## Phase 1: セットアップ（共有基盤）

**目的**: プロジェクトの初期構造と基本環境を整える。

- [ ] T001 plan.md に定義されたプロジェクト構造を作成
- [ ] T002 [P] 使用言語やフレームワークの初期設定
- [ ] T003 [P] Lint / Format ツール（ESLint / Prettier など）を設定

---

## Phase 2: 共通基盤（すべてのユーザーストーリーに必須）

**目的**: 個々のストーリー実装前に必要な共通土台を整備する。

**⚠️ CRITICAL**: このフェーズが完了するまで、ユーザーストーリー実装に着手してはならない

- [ ] T004 データベース（DynamoDB など）の準備・初期スキーマ作成
- [ ] T005 [P] 認証 / 認可が必要な場合はその基盤実装
- [ ] T006 [P] API ルーティング / ミドルウェア設定
- [ ] T007 全ストーリーで利用するベースモデルを作成
- [ ] T008 エラー処理・ロギング基盤を整備
- [ ] T009 環境変数 / コンフィグ管理を設定

**Checkpoint**:  
基盤が揃い、以降のストーリーを並列実装できる状態になる。

---

## Phase 3: ユーザーストーリー 1 - [タイトル] (優先度: P1) 🎯 MVP

**Goal**: [このストーリーが提供する価値]  
**Independent Test**: [このストーリー単体で検証可能な方法]

## US1 テストタスク（必須）

> **NOTE**: 最初にこれらのテストを書いて、失敗することを確認してから実装に進むこと。

- [ ] T010 [P] [US1] コントラクトテスト（tests/contract/test\_[name].ts）
- [ ] T011 [P] [US1] 統合テスト（tests/integration/test\_[name].ts）

### US1 実装タスク

- [ ] T012 [P] [US1] モデル作成：src/models/[entity1].ts
- [ ] T013 [P] [US1] モデル作成：src/models/[entity2].ts
- [ ] T014 [US1] サービス実装：src/services/[service].ts（T012/013 に依存）
- [ ] T015 [US1] API / UI / 機能実装：src/[location]/[file].ts
- [ ] T016 [US1] バリデーション・エラー処理追加
- [ ] T017 [US1] ログ・メトリクスなど観測性の追加

**Checkpoint**: US1 が独立して動作し、テストが通る状態。

---

## Phase 4: ユーザーストーリー 2 - [タイトル] (優先度: P2)

**Goal**: [価値説明]  
**Independent Test**: [テスト方法]

### US2 テスト

- [ ] T018 [P] [US2] コントラクトテスト
- [ ] T019 [P] [US2] 統合テスト

### US2 実装タスク

- [ ] T020 [P] [US2] モデル作成：src/models/[entity].ts
- [ ] T021 [US2] サービス実装：src/services/[service].ts
- [ ] T022 [US2] API / UI 実装：src/[location]/[file].ts
- [ ] T023 [US2] 必要に応じて US1 と連携（ただし独立性を損なわないこと）

**Checkpoint**: US1・US2 が両方独立して動作可能。

---

## Phase 5: ユーザーストーリー 3 - [タイトル] (優先度: P3)

**Goal**: [説明]  
**Independent Test**: [説明]

### US3 テスト

- [ ] T024 [P] [US3] コントラクトテスト
- [ ] T025 [P] [US3] 統合テスト

### US3 実装タスク

- [ ] T026 [P] [US3] モデル作成
- [ ] T027 [US3] サービス実装
- [ ] T028 [US3] API / UI 実装

**Checkpoint**: すべてのストーリーが独立して動作確認できる状態。

---

## Phase N: 仕上げ・横断的改善（Polish）

- [ ] TXXX [P] docs/ のドキュメント更新
- [ ] TXXX コードリファクタリング
- [ ] TXXX パフォーマンス改善
- [ ] TXXX [P] 追加ユニットテスト（tests/unit/）
- [ ] TXXX セキュリティ強化
- [ ] TXXX quickstart.md の更新内容検証

---

## 依存関係と実行順序

### フェーズ依存関係

- Phase 1（セットアップ） → Phase 2（共通基盤）
- Phase 2 完了後 → すべてのユーザーストーリーを開始可能
- ユーザーストーリーは並列 or 優先度順に実行
- Polish は最後に実施

### ユーザーストーリー依存

- US1 は基盤のみ依存
- US2 は基盤に依存、US1 との軽い連携は可（独立性必須）
- US3 も同様

### ユーザーストーリー内の順序

1. テストを書く（→ FAIL を確認）
2. モデル
3. サービス
4. API / UI
5. 統合
6. チェックポイント

### 並列実行可能な例

- [P] のついた基盤タスク
- ユーザーストーリー別タスク
- 各ストーリー内のモデル作成
- テスト作成タスク

---

## メモ

- [P] は並列可能タスク
- タスクは必ず「どのストーリーの何を実現するか」を明記
- ストーリー間の不要な依存は排除
- タスク単位または論理単位でコミット
- チェックポイントでこまめに動作確認
- 不明点は spec.md や plan.md にフィードバックして同期を取ること
